# ZZZ Текстуры и свойства

Данное руководство предполагает, что вы уже знаете, как делать моды в игре и все основы 3D-моделирования. Такие понятия, как UV, текстурирование, моделирование, кит-башинг, импорт и экспорт, здесь рассматриваться не будут. Не стесняйтесь узнать больше базовых понятий в моем руководстве по моддингу.

- [Как модить ZZZ](https://drive.google.com/file/d/11CSjnhNc0kPGuspM152a_uJLS4IJAM-Q/view?usp=sharing)

Модели ZZZ имеют несколько типов информации, закодированной в их сетках, помимо простого положения вершины. Это нормали, тангент, uv развёртки, цвет и веса вершин.

Нормали, тангенты и веса необходимы для правильного рендеринга 3d-модели и не рассматриваются здесь. Первые два параметра влияют на форму контура, но плагины должны справляться с ними автоматически.

## Оглавление
[[toc]]

## Цвет вершин

![Цвета Вертексов](https://images.gamebanana.com/img/ss/tuts/669ed8191ffe3.jpg)
Я создал кастомный материал, чтобы удобно визуализировать цвет вершин в процессе работы над ним и, конечно, для иллюстрации в этом руководстве. Не стесняйтесь копировать настройку узла.

### Красный канал

![Красный канал](https://images.gamebanana.com/img/ss/tuts/669ed81b9c36f.jpg)

Поначалу трудно понять, для чего нужен этот канал, поэтому позвольте мне провести вас через него. В игре он используется как способ утолщения или утончения обводки вокруг персонажа. Например, в конце пряди волос контур становится тоньше, чтобы получить эффект ручной прорисовки. Вот почему вы видите темные пятна на волосах Николь. Он также используется по краям ее одежды для достижения аналогичного эффекта. Нет никакого определенного шаблона, которому должен следовать создатель мода при работе с ними, это просто инструмент, который дает больше контроля над тем, что отображается на экране. По умолчанию вы можете просто сделать его ровным серым, как и большую часть ее тела.

### Зеленый канал
![Зеленый канал](https://images.gamebanana.com/img/ss/tuts/669ed81b608b5.jpg)

В этом я уверен меньше всего. У меня есть свои теории по поводу его использования, но шаблон меняется от персонажа к персонажу. Так что не стесняйтесь присылать мне информацию о нем в личные сообщения (Небольшое уточнение от переводчика, автор данного туториала англо-испано говорящий человек, так что если решитесь написать LeoTorrez'у, пишите ему на языке который он понимает :3 ), если вам доведется испытать его в какой-то момент. Чтобы это не вызывало проблем, лучше всего снова установить по умолчанию средний тон.

### Синий канал
![Синий канал](https://images.gamebanana.com/img/ss/tuts/669ed81b6539c.jpg)

Похоже, что он используется исключительно для причесок. Я предполагаю, что он используется в качестве направляющей, чтобы указать игре, какая часть волос должна отбрасывать более сильную тень на тело. Он также полезен для определения того, какая часть сетки является волосами. Так что игра может использовать его для придания прическам другого оттенка в целом. Для подтверждения этих подозрений требуется дополнительное тестирование. Для тела по умолчанию используется абсолютный 0 или черный цвет.

### Альфа-канал
![Альфа-канал](https://images.gamebanana.com/img/ss/tuts/669ed81b7b181.jpg)

Похоже, это связано с шеей персонажа, но пока у меня не было ни времени, ни необходимости ее изменять. Я предпочитаю просто сохранять оригинальную шею персонажа, чтобы не возиться с этим. Однако это может быть полезно для некоторых особых случаев затенения.

## Текстурные слоты и их назначение
![Текстурные слоты](https://images.gamebanana.com/img/ss/tuts/669ed81be6cce.jpg)

Изображения: слева вверху - Diffuse, справа вверху - NormalMap, слева внизу - LightMap, справа внизу - MaterialMap.

Названия несколько технически неправильные, но они достаточно хороши, чтобы определить общее назначение каждого изображения.

Текстура `diffuse` - это просто раскраска сетки и закодирована в BC7 sRGB, а остальные - в BC7 Linear.

Красный и зеленый каналы `normal map` хранят информацию о вертикальных и горизонтальных нормалях сетки. В то время как синий канал является маской окклюзии.

Карта света и карта материала выглядят одинаково и могут сбивать с толку. Как правило, карта материала имеет тенденцию быть преимущественно розовой или преимущественно оранжевой. В то время как карта света, как правило, красная. Конечно, в этом нет никакой гарантии, но это хороший ориентир.

Красный канал `LightMap` кодирует информацию о контурах и теневой рампе для каждой части сетки с интенсивностью до 5 порогов. Это очень похоже на альфа-канал в LM Геншина.

Зеленый канал - это металлизированность поверхности, а синий - некий глянец.

Красный канал `Material Map`, похоже, используется в некоторых моделях для кодирования того, какая часть сетки должна быть прозрачной и насколько интенсивной. Имейте в виду, что это используется не во всех персонажах. Хорошими примерами являются стеклянная коробка на рюкзаке Энби или очки некоторых персонажей.

Зеленый канал - это еще одна форма металлического блеска, но его трудно описать одним словом.

Синий канал кажется спекулярной информацией, но опять же не совсем в традиционном понимании PBR.

## UV развёртка

### TEXCOORD.xy
![TEXCOORD.xy](https://images.gamebanana.com/img/ss/tuts/669ed81c5c95c.jpg)

Это классическая сетка, которая отображает вашу 2D-текстуру в 3D-пространство.

### TEXCOORD1.xy
![TEXCOORD1.xy](https://images.gamebanana.com/img/ss/tuts/669ed81c3c2fd.jpg)

Это довольно странно, не так ли? Я расскажу о нем подробнее дальше. У него есть свое применение, но он довольно нишевый.

### TEXCOORD2.xy
![TEXCOORD2.xy](https://images.gamebanana.com/img/ss/tuts/669ed81ae8f21.jpg)

Это просто изометрическая проекция вашего меша, которая, вероятно, используется в игре для некоторых визуальных эффектов. Если вы добавляете сетку в свою модель, вам нужно будет сгенерировать эту.

### TEXCOORD3.xy
![TEXCOORD3.xy](https://images.gamebanana.com/img/ss/tuts/669ed81be26c9.jpg)

И последнее, но не менее важное. Это почти то же самое, что и TEXCOORD.XY, но его можно использовать для отображения внутренней стороны сетки на другую часть текстуры, например, на нижнюю часть юбки. Для достижения этого эффекта существуют альтернативные методы, так что не переживайте, если его использование окажется затруднительным.

### Заметка о TEXCOORD1.xy

Он используется игрой для некоторых операций над контуром персонажа. Я не могу точно сказать, что именно он делает, но он может сделать так, что новая добавленная сетка будет выглядеть иначе, чем оригинальная. При наложении друг на друга это будет очень заметно. Поэтому я создал пару узлов, чтобы было легче их визуализировать. Их значения изменяются от -1 до 1, поэтому гигантский шар в итоге показывает свой UV.

Если ваша сетка выглядит странно, и вы не знаете, как ее исправить, это может быть связано с этим. Простое исправление - развернуть сетку в UV для этого UV и масштабировать uv до 0. Затем переместите результат в левый верхний угол uv. Это будет равно 0 по обеим осям.

Все эти данные будут обновляться по мере создания новых модов и лучшего понимания этих ценностей, поэтому, пожалуйста, сообщайте мне обо всем, что вы узнаете о них.

## TL;DL

### Материалы

- R: Прозрачность (если включена)
- G: Бог знает что
- B: Блеск

### Карта света

- R: Конфигурация тени/контура (может быть предустановленным цветом или затемненной текстурой)
- G: Металлическая поверхность
- B: Глянец

### Карта нормалей

- R: Вертикальная координата
- G: Горизонтальная координата
- B: Глубина

### Покраска вертексов

- R: Размер обводки
- G: Непонятно, но возможно глубина обводки по Z-координате
- B: Интенсивность контактных теней - возможно...
- Alpha: Что то связанное с шеей, дружище...
